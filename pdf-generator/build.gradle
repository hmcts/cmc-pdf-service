plugins {
  id 'org.owasp.dependencycheck'
}

def flyingSaucerVersion = '9.1.7'

dependencyManagement {
  imports {
    mavenBom "org.xhtmlrenderer:flying-saucer-pdf:${flyingSaucerVersion}"
  }
}

dependencyCheck {
  // Specifies if the build should be failed if a CVSS score above a specified level is identified.
  // range of 0-10 fails the build, anything greater and it doesn't fail the build
  failBuildOnCVSS = System.getProperty('dependencyCheck.failBuild') == 'false' ? 11 : 0
  suppressionFile = 'dependency-check-suppressions.xml'
}

def versions = [
  flyingSaucer    : flyingSaucerVersion,
  openPdf         : dependencyManagement.importedProperties['openpdf.version']
]

dependencies {
  compile group: 'uk.gov.hmcts.reform', name: 'java-logging', version: project(':').versions.reformJavaLogging

  compile group: 'com.mitchellbosecke', name: 'pebble', version: '2.4.0'

  compile group: 'org.xhtmlrenderer', name: 'flying-saucer-core', version: versions.flyingSaucer
  compile group: 'org.xhtmlrenderer', name: 'flying-saucer-pdf', version: versions.flyingSaucer, {
    exclude group: 'com.lowagie'
    exclude group: 'org.bouncycastle'
  }
  compile group: 'com.github.librepdf', name: 'openpdf', version: versions.openPdf
}
